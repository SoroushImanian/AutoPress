---

#- name: Install Packages
#  apt:
#    name: "{{ item }}"
#    state: present
#    update_cache: yes
#  loop:
#     - git
#     - tree
#     - htop
#     - net-tools
#     - sysstat
#     - tcpdump
#
#- name: Install Packages with shell
#  shell: |
#    apt update; apt install git tree htop net-tools sysstat tcpdump

#- name: Create Directory
#  file:
#    state: directory
#    path: "/tmp/sauce"
#
#- name: Create Directory with shell
#  shell: |
#    mkdir /tmp/sauce

#- name: Print Variable to file
#  shell: |
#    echo {{ VARIABLE }} > /tmp/sauce/VARIABLE_FILE

#- name: Print Variable
#    #debug:
#       msg: "{{ VARIABLE }}"

#- name: Create Directory /var/temp/bin/
#  file:
#    state: directory
#    path: "{{ item }}"
#  loop: 
#    - "/var/temp/bin/"
#    - "/var/temp/conf/"  
#
#- name: Copy temp.sh
#  copy:
#    src: var/temp/bin/temp.sh
#    dest: /var/temp/bin/temp.sh
#    mode: 0754
#
#- name: Copy temp.sh backup
#  copy:
#    src: /var/temp/bin/temp.sh
#    dest: /var/temp/bin/temp.sh-back
#    mode: 0644
#    remote_src: yes
#
#- name: Copy temp.conf
#  copy:
#    src: var/temp/conf/temp.conf
#    dest: /var/temp/conf/
#    mode: 0640

- name: facts
  debug:
    msg: "{{ ansible_facts.default_ipv4.address }}"
  tags:
    - ip

- name: Create Directory arsenal
  file:
    state: directory
    path: "{{ item }}"
  loop:
    - "/var/arsenal/bin/"
    - "/var/arsenal/conf/"
  tags:
    - config

- name: Template arsenal
  template:
    src: var/arsenal/conf/arsenal.conf
    dest: /var/arsenal/conf/arsenal.conf
  tags:
    - config

- name: Print All Facts
  debug:
    msg: "{{ ansible_facts }}"
  tags:
    testwhen

- name: create dir when labtwo.com (app1)
  file:
    state: directory
    path: "/tmp/app1"
  when: "ansible_facts.fqdn == 'ubuntu2204LAB1'"
  tags:
    - testwhen

- name: create dir when ubuntu in hostname
  file:
    state: directory
    path: "/tmp/appUbuntu"
  when: "'ubuntu' in ansible_facts.fqdn"
  tags:
    - testwhen

- name: create dir when ubuntu Not in hostname
  file:
    state: directory
    path: "/tmp/appNotInUbuntu"
  when: "'ubuntu' not in ansible_facts.fqdn"
  tags:
    - testwhen

- name: create dir when labthere.com (app2)
  file:
    state: directory
    path: "/tmp/app2"
  when: "ansible_facts.fqdn == 'ubuntu2204LAB2'"
  tags:
    - testwhen
